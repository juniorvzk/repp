<template name="produtosTemplate">

  <div class="pull-left col-lg-2">
    {{> AppNav}}
  </div>
  <div class="col-lg-10">

  <h3>Produtos</h3>

  {{> addProductModal}}


  {{> showProducts}}
</div>

</template>

<template name="editItem">
  <a id="editItemBtn">
    <i class='fa fa-pencil fa-2x' aria-hidden='true'></i>
  </a>

  <a id="removeItemBtn" type="button">
    <i class='fa fa-times fa-2x' aria-hidden='true'></i>
  </a>

</template>

<template name="addProductModal">
  <!-- {{> quickForm collection="Clientes" id="addClientForm" type="insert" omitFields="telefone" buttonContent="Save Changes" }}

  {{#autoForm id="clientForm" resetOnSuccess=false collection="Clientes" type="insert" formgroup-class="col-md-4"}}
  {{> afQuickField id="tel" name="telefone" label="Telefones *" formgroup-class="col-md-4"}}

  {{/autoForm}} -->

  <button type="button" class="btn btn-success" style="float:right;" data-toggle="modal" data-target="#myModal">
    <i class="fa fa-plus fa-1x"></i>Adicionar Produto
  </button>

  {{#autoForm id="addProductForm" resetOnSuccess=true collection="Produtos"  type="insert"}}
  <!-- Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="myModalLabel">Adicionar novo Produto</h4>
        </div>
        <div class="modal-body">

          <div class="row">

            <div class="col-lg-12">

              {{> afQuickField id="codigo" name="codigo" label="Código *" formgroup-class="col-lg-2"}}
              {{> afQuickField id="nome" name="nome" label="Descrição do Produto *" formgroup-class="col-lg-10"}}
              {{> afQuickField id="ncm" name="ncm" label="NCM *" formgroup-class="col-lg-4"}}
              {{> afQuickField id="ean" name="ean" label="EAN *" formgroup-class="col-lg-4"}}
              {{> afQuickField id="eantributavel" name="eantributavel" label="EAN Tributável *" formgroup-class="col-lg-4"}}
              {{> afQuickField id="unidade" name="unidade" label="Unidade *" options="allowed" formgroup-class="col-lg-3"}}
              {{> afQuickField id="valor" name="valor" label="Valor *" formgroup-class="col-lg-3" step="0.01"}}
              {{> afQuickField id="unidadetributavel" name="unidadetributavel" label="Unidade Tributável *" options="allowed" formgroup-class="col-lg-3"}}
              {{> afQuickField id="valortributavel" name="valortributavel" label="Valor Tributável*" formgroup-class="col-lg-3"}}

            </div>

          </div>


        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          <button type="button" id="saveBtn" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>

  {{/autoForm}}


</template>

<template name="productsTable">

  <div class="panel panel-default ">
    <div class="panel-heading">
      <h3 class="panel-title"></h3>
    </div>
    <div class="panel-body">

      {{> reactiveTable settings=settings}}

    </div>
    <div class="panel-footer">

    </div>
  </div>


</template>


<template name="showProducts">

  {{> reactiveTable collection=getProducts settings=settingsProducts}}




  <!-- {{> productsTable}} -->


</template>


<template name="editProductTemplate">

  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">{{user.profile.nome}}</h3>
    </div>
    <div class="panel-body">


      {{#autoForm id="editProductForm" resetOnSuccess=true collection="Produtos"  type="update" doc=this.product}}

      {{> afQuickField id="codigo" name="codigo" label="Código *" formgroup-class="col-lg-2"}}
      {{> afQuickField id="nome" name="nome" label="Descrição do Produto *" formgroup-class="col-lg-10"}}
      {{> afQuickField id="ncm" name="ncm" label="NCM *" formgroup-class="col-lg-4"}}
      {{> afQuickField id="ean" name="ean" label="EAN *" formgroup-class="col-lg-4"}}
      {{> afQuickField id="eantributavel" name="eantributavel" label="EAN Tributável *" formgroup-class="col-lg-4"}}
      {{> afQuickField id="unidade" name="unidade" label="Unidade *" options="allowed" formgroup-class="col-lg-3"}}
      {{> afQuickField id="valor" name="valor" label="Valor *" formgroup-class="col-lg-3"}}
      {{> afQuickField id="unidadetributavel" name="unidadetributavel" label="Unidade Tributável *" options="allowed" formgroup-class="col-lg-3"}}
      {{> afQuickField id="valortributavel" name="valortributavel" label="Valor Tributável*" formgroup-class="col-lg-3"}}

      <button type="submit" id="saveBtn" class="btn btn-primary">Save changes</button>

      {{/autoForm}}


    </div>
    <div class="panel-footer">

    </div>
  </div>

</template>
